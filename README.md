# Shorts Analytics Pro

YouTube Shorts特化型 分析ダッシュボード

「動画を出すだけ」から「勝てる動画を作る」へ

---

## 📊 概要

**Shorts Analytics Pro**は、YouTube Studioの複雑なデータを「Shorts動画の攻略」に必要な指標だけに絞り込み、一目で「次の打ち手」が見える化される分析ダッシュボードです。

### 主な特徴

✅ **完全自動化**: 一度設定すれば、毎日自動でデータが更新される
✅ **意思決定の短縮**: 「維持率が高いのに再生されていない動画（＝サムネ改善が必要）」などが一瞬でわかる
✅ **即提出可能なレポート**: そのままPDF化してクライアントに送れるクオリティのデザイン
✅ **完全無料**: Google Apps Script + Google Sheets + Looker Studio（全て無料）

---

## 🎯 対象ユーザー

- Shorts動画主力の個人クリエイター
- YouTube運用代行業者（クライアントへの報告業務がある方）
- 動画編集者（成果を数値で証明したい方）

---

## 🏗️ システム構成

```
YouTube Analytics API
    ↓ (Google Apps Script - 毎朝6時自動実行)
Google Sheets (データストレージ + 簡易加工)
    ↓ (リアルタイム接続)
Looker Studio (3ページダッシュボード)
```

### 技術スタック

- **Google Apps Script**: API取得・データ処理・自動更新
- **Google Sheets**: データストレージ・簡易変換（数式）
- **Looker Studio**: ビジュアライゼーション

---

## 📁 プロジェクト構造

```
shorts_analytics_pro/
├── gas/                    # Google Apps Script コード
│   ├── Code.gs            # メイン実行関数
│   ├── Config.gs          # 設定管理・OAuth2設定
│   ├── YouTubeAPI.gs      # YouTube API呼び出し層
│   ├── DataProcessor.gs   # データ変換・集計処理
│   ├── SheetWriter.gs     # シート書き込み処理
│   ├── Utilities.gs       # ヘルパー関数
│   └── Triggers.gs        # トリガー管理
│
├── docs/                   # ドキュメント（日本語）
│   ├── API_Setup_Guide_JP.md       # YouTube API設定手順
│   ├── GAS_Setup_Guide_JP.md       # GAS設定手順
│   ├── Looker_Setup_Guide_JP.md    # Looker Studio構築手順
│   └── User_Guide_JP.md            # 使い方ガイド
│
├── prompt.txt             # 企画書（日本語）
└── README.md              # このファイル
```

---

## 📈 ダッシュボード機能

### Page 1: 月次サマリー（「今月の通信簿」）

**目的**: チャンネルの健康状態と、当月の成果を俯瞰する

- **メインKPIカード（前月比表示付き）**
  - 投稿本数
  - 合計視聴回数 / 合計再生時間
  - 新規登録者数
  - 推定収益
  - 平均視聴維持率（％）
  - フィード表示回数（インプレッション）

- **日次推移グラフ**
  - 再生数と登録者増減の波を可視化
  - 過去動画が回っているか（ベースラインの上昇）を確認

### Page 2: 動画パフォーマンス分析（「傾向と対策」）

**目的**: 伸びた動画、死んだ動画の特徴を掴む

- **相関バブルチャート（質 vs 量）**
  - 縦軸: 平均視聴維持率（質）
  - 横軸: 視聴回数（量）
  - 活用法: 右上に位置する動画が「勝ちパターン」

- **尺（秒数）別パフォーマンス分析**
  - 「15秒以下」「15-30秒」「30-60秒」のグループごとの平均再生数・維持率比較
  - 自分のチャンネルに最適な動画の長さを特定

- **投稿時間ヒートマップ**
  - 曜日×時間帯ごとの初動再生数を色分け表示

### Page 3: 企画・クリエイティブ分析（「PDCAログ」）

**目的**: 数値化できない「企画の中身」を振り返る

- **タグ/カテゴリ別ランキング**
  - スプレッドシートで設定したタグ（例：「ダンス」「解説」「裏話」）ごとの平均パフォーマンス表

- **サムネイル/タイトル分析表**
  - 動画ごとのサムネイル画像を表示し、その横にCTRや再生数を並べたリスト
  - 視覚的に「クリックしたくなる画像」の傾向を掴む

---

## 🚀 セットアップガイド

### 前提条件

- Googleアカウント
- YouTubeチャンネル（Shorts動画を投稿済み）
- PCとインターネット接続

### セットアップ手順（所要時間: 約60分）

#### Step 1: YouTube API設定（15分）

[API設定ガイド](./docs/API_Setup_Guide_JP.md) に従って:

1. Google Cloud Projectを作成
2. YouTube Data API v3 + YouTube Analytics APIを有効化
3. OAuth 2.0認証情報を作成
4. クライアントIDとシークレットを取得

#### Step 2: Google Apps Script設定（20分）

[GASセットアップガイド](./docs/GAS_Setup_Guide_JP.md) に従って:

1. Googleスプレッドシート「Shorts Analytics Data」を作成
2. Apps Scriptプロジェクトに7つのGASファイルをコピー
3. OAuth2ライブラリを追加
4. Config.gsにクライアントIDとシークレットを設定
5. OAuth認証を実行
6. `initialSetup()` で初回データ取得（過去90日分）

#### Step 3: Looker Studio設定（30分）

[Looker Studioセットアップガイド](./docs/Looker_Setup_Guide_JP.md) に従って:

1. 新規Looker Studioレポートを作成
2. 3つのデータソース（VIDEO_MASTER, DAILY_SUMMARY, MONTHLY_KPI）を接続
3. Page 1: 月次サマリーを作成
4. Page 2: 動画パフォーマンス分析を作成
5. Page 3: クリエイティブ分析を作成

---

## 💡 使い方

### 日常的な運用

1. **毎朝6時**: 自動でデータ更新（設定不要）
2. **毎週月曜**: Looker Studioダッシュボードで週次レビュー
3. **毎月1日**: 月次KPI確認 → PDF出力 → 次月の戦略立案
4. **随時**: VIDEO_TAGSシートで新規動画にタグ付け

詳細は [使い方ガイド](./docs/User_Guide_JP.md) を参照

### 手動更新

自動更新を待たずに今すぐデータを更新したい場合:

1. スプレッドシート →「拡張機能」→「Apps Script」
2. 関数選択で `manualRefresh` を選択
3. 実行ボタンをクリック

---

## 📊 Google Sheetsのシート構成

| シート名 | 種類 | 説明 |
|---------|------|------|
| **CONFIG** | 設定 | チャンネルID、最終更新日時等 |
| **RAW_VIDEO_DATA** | 生データ | API取得の動画データ |
| **RAW_DAILY_METRICS** | 生データ | API取得の日次指標 |
| **VIDEO_MASTER** | 加工データ | 数式で加工した動画データ（Lookerメイン接続先） |
| **DAILY_SUMMARY** | 加工データ | 日次サマリー（移動平均含む） |
| **MONTHLY_KPI** | 加工データ | 月次KPI（前月比較あり） |
| **VIDEO_TAGS** | ユーザー入力 | 動画へのタグ付け（手動） |
| **LOG** | システム | エラーログ（非表示） |

---

## ⚙️ 主要機能

### 自動化機能

- **日次自動更新**: 毎朝6時に前日のデータを自動取得
- **7日間ルックバック**: 過去7日分の動画の指標を再取得（YouTubeの指標は48-72時間で確定するため）
- **エラー通知**: 更新失敗時はメールで通知

### データ分析機能

- **月次KPI自動計算**: 前月比較、増減率計算
- **動画別パフォーマンス可視化**: バブルチャート、ヒートマップ
- **タグ別集計**: 手動タグによる企画ジャンル別分析
- **サムネイル画像表示**: Looker Studioで画像を直接表示

---

## 🔧 トラブルシューティング

### よくあるエラーと解決方法

#### 「API quota exceeded」

- **原因**: YouTube APIのクォータ制限（10,000ユニット/日）に達した
- **対処**: 翌日まで待つ、または取得範囲を狭める

#### 「YouTube APIの認証が必要です」

- **原因**: OAuth認証が失効した
- **対処**: `resetAuth()` → `showAuthUrl()` で再認証

#### データが表示されない

- **原因**: シートにデータが入っていない、またはLooker Studioの接続エラー
- **対処**: スプレッドシートのRAW_VIDEO_DATAを確認、Looker Studioでデータソース再接続

詳細は [使い方ガイド - トラブル対処法](./docs/User_Guide_JP.md#7-トラブル対処法) を参照

---

## 📝 注意事項

### YouTube API制限

- **クォータ制限**: 10,000ユニット/日
- **対策**: 初回取得は90日分、日次更新は7日分のみ再取得

### データ取得範囲

- **Shorts判定**: duration < 60秒でフィルター
- **注意**: YouTube APIには「isShorts」フラグがないため、60秒以下の全動画が対象

### 収益化要件

以下の指標は収益化（YouTubeパートナープログラム）が必要:
- **推定収益** (estimated_revenue)
- **インプレッション** (impressions)
- **CTR** (impressionClickThroughRate)

収益化していない場合、これらは常に0になります。

---

## 🛣️ 今後の拡張予定

### 現在の機能（基本機能）

- ✅ 3ページダッシュボード
- ✅ 日次自動更新
- ✅ 月次KPI前月比較
- ✅ バブルチャート・ヒートマップ
- ✅ サムネイル画像表示

### 将来の拡張機能（オプション）

- ⬜ **アラート通知**: 公開後3時間の再生数が過去平均の200%を超えた場合、LINEまたはSlackに即時通知
- ⬜ **PDCAコメント機能**: スプレッドシートの「気付きメモ」をダッシュボード上に反映
- ⬜ **競合ベンチマーク**: 3-5個の競合チャンネルの指標を比較
- ⬜ **AI分析**: Gemini APIでタイトル・サムネイルの改善提案

---

## 📄 ライセンス

このプロジェクトは個人利用・商用利用ともに自由です。

---

## 🤝 サポート

### 困ったときは

1. **ドキュメントを確認**: `docs/` フォルダ内の各種ガイド
2. **LOGシートを確認**: エラー内容を確認
3. **実行ログを確認**: Apps Scriptエディタの実行ログ
4. **コミュニティで質問**: Google Apps Scriptコミュニティ（Stack Overflow等）

---

## 📊 プロジェクト情報

- **作成日**: 2026-01-09
- **バージョン**: 1.0
- **言語**: JavaScript (Google Apps Script)
- **ドキュメント言語**: 日本語
- **推定工数**: 約90時間

---

## 🎉 開発完了！

このプロジェクトの基本機能は全て実装完了しました。

### 次のステップ

1. ✅ **セットアップ**: [API設定ガイド](./docs/API_Setup_Guide_JP.md) から開始
2. ✅ **データ取得**: initialSetup()で過去90日分のデータを取得
3. ✅ **ダッシュボード作成**: Looker Studioで3ページ構成のダッシュボードを作成
4. ✅ **運用開始**: 毎朝自動更新、週次・月次レビュー

**YouTube Shorts攻略、頑張ってください！** 🚀
